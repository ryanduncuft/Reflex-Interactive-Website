# === 1. Domain Normalization (Avoids Redirect Loops) ===
[[redirects]]
from = "https://reflexinteractive.netlify.app/*"
to = "https://www.reflexinteractive.com/:splat"
status = 301
force = true

# === 2. Clean URL Rewrites (Query Parameter Based) ===
[[redirects]]
from = "/games"
query = { id = ":id" }
to = "/src/pages/game-details.html"
status = 200

[[redirects]]
from = "/newswire"
query = { id = ":id" }
to = "/src/pages/newswire.html"
status = 200

# === 3. Static Page Rewrites (Must be placed AFTER detail views) ===
[[redirects]]
from = "/games"
to = "/src/pages/games.html"
status = 200

[[redirects]]
from = "/newswire"
to = "/src/pages/newswire.html"
status = 200

[[redirects]]
from = "/about"
to = "/src/pages/about.html"
status = 200

[[redirects]]
from = "/contact"
to = "/src/pages/contact.html"
status = 200

[[redirects]]
from = "/tos"
to = "/src/pages/tos.html"
status = 200

[[redirects]]
from = "/privacy"
to = "/src/pages/privacy.html"
status = 200

# === 4. Launcher Download Redirect (MOVED TO BEFORE 404) ===
[[redirects]]
from = "/launcher"
to = "https://github.com/ReflexInteractive/Reflex-Interactive-Launcher/releases/download/v0.0.1/Reflex.Interactive.Launcher.0.0.1.Beta.zip"
status = 302 

# === 5. Custom 404 Page Setup (Must be the LAST rule) ===
[[redirects]]
from = "/*"
to = "/src/pages/404.html"
status = 404